@mixin animate-rotate-in {
  @include animate-in;
  @include slide-in(0, -25%);
  @include rotate-in(45);
}
@mixin animate-rotate-out {
  @include animate-out;
  @include slide-out(0, -25%);
  @include rotate-out(45);
}

.collapsing {
  &#{&}_open {
    grid-template-rows: 1fr 1fr;

    opacity: 1;
  }

  &#{&}_close {
    grid-template-rows: 0fr 0fr;

    opacity: 0;
    @include block-bp-md {
      grid-template-rows: 1fr 1fr;

      opacity: 1;
    }
  }
  @include ts(grid-template-rows, opacity);
}

.rotating {
  position: relative;

  &::before {
    transform-origin: center center;
  }

  &#{&}_open::before {
    @include animate-rotate-in;
  }

  &#{&}_close::before {
    @include animate-rotate-out;
  }

  @include block-bp-md {
    &::before {
      transform: translateY(-25%) rotate(225deg);
    }

    &.rotating_open::before,
    &.rotating_close::before {
      animation: none;
    }
  }
}
